

<!DOCTYPE html>
<html class="writer-html5" lang="en" data-content_root="./">
<head>
  <meta charset="utf-8" /><meta name="viewport" content="width=device-width, initial-scale=1" />

  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <title>Licence &mdash; Home 0.2.1 documentation</title>
      <link rel="stylesheet" type="text/css" href="_static/pygments.css?v=03e43079" />
      <link rel="stylesheet" type="text/css" href="_static/css/theme.css?v=e59714d7" />

  
      <script src="_static/jquery.js?v=5d32c60e"></script>
      <script src="_static/_sphinx_javascript_frameworks_compat.js?v=2cd50e6c"></script>
      <script src="_static/documentation_options.js?v=37f418d5"></script>
      <script src="_static/doctools.js?v=9bcbadda"></script>
      <script src="_static/sphinx_highlight.js?v=dc90522c"></script>
    <script src="_static/js/theme.js"></script>
    <link rel="index" title="Index" href="genindex.html" />
    <link rel="search" title="Search" href="search.html" />
    <link rel="next" title="ATaCR" href="atacr.html" />
    <link rel="prev" title="GitHub Repositories" href="links.html" /> 
</head>

<body class="wy-body-for-nav"> 
  <div class="wy-grid-for-nav">
    <nav data-toggle="wy-nav-shift" class="wy-nav-side">
      <div class="wy-side-scroll">
        <div class="wy-side-nav-search" >

          
          
          <a href="index.html" class="icon icon-home">
            Home
              <img src="_static/obstools_logo.png" class="logo" alt="Logo"/>
          </a>
<div role="search">
  <form id="rtd-search-form" class="wy-form" action="search.html" method="get">
    <input type="text" name="q" placeholder="Search docs" aria-label="Search docs" />
    <input type="hidden" name="check_keywords" value="yes" />
    <input type="hidden" name="area" value="default" />
  </form>
</div>
        </div><div class="wy-menu wy-menu-vertical" data-spy="affix" role="navigation" aria-label="Navigation menu">
              <p class="caption" role="heading"><span class="caption-text">Quick Links</span></p>
<ul>
<li class="toctree-l1"><a class="reference internal" href="links.html">GitHub Repositories</a></li>
<li class="toctree-l1"><a class="reference internal" href="links.html#references">References</a></li>
</ul>
<p class="caption" role="heading"><span class="caption-text">Getting Started</span></p>
<ul class="current">
<li class="toctree-l1 current"><a class="current reference internal" href="#">Licence</a></li>
<li class="toctree-l1"><a class="reference internal" href="#installation">Installation</a><ul>
<li class="toctree-l2"><a class="reference internal" href="#dependencies">Dependencies</a></li>
<li class="toctree-l2"><a class="reference internal" href="#conda-environment">Conda environment</a></li>
<li class="toctree-l2"><a class="reference internal" href="#installing-development-branch-on-github">Installing development branch on GitHub</a></li>
<li class="toctree-l2"><a class="reference internal" href="#installing-from-source">Installing from source</a></li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="#using-local-data">Using local data</a><ul>
<li class="toctree-l2"><a class="reference internal" href="#station-metadata">Station Metadata</a></li>
<li class="toctree-l2"><a class="reference internal" href="#waveform-data">Waveform Data</a></li>
</ul>
</li>
</ul>
<p class="caption" role="heading"><span class="caption-text">Modules</span></p>
<ul>
<li class="toctree-l1"><a class="reference internal" href="atacr.html">ATaCR</a></li>
<li class="toctree-l1"><a class="reference internal" href="comply.html">Comply</a></li>
</ul>

        </div>
      </div>
    </nav>

    <section data-toggle="wy-nav-shift" class="wy-nav-content-wrap"><nav class="wy-nav-top" aria-label="Mobile navigation menu" >
          <i data-toggle="wy-nav-top" class="fa fa-bars"></i>
          <a href="index.html">Home</a>
      </nav>

      <div class="wy-nav-content">
        <div class="rst-content">
          <div role="navigation" aria-label="Page navigation">
  <ul class="wy-breadcrumbs">
      <li><a href="index.html" class="icon icon-home" aria-label="Home"></a></li>
      <li class="breadcrumb-item active">Licence</li>
      <li class="wy-breadcrumbs-aside">
            <a href="_sources/obstools.rst.txt" rel="nofollow"> View page source</a>
      </li>
  </ul>
  <hr/>
</div>
          <div role="main" class="document" itemscope="itemscope" itemtype="http://schema.org/Article">
           <div itemprop="articleBody">
             
  <section id="licence">
<span id="module-obstools"></span><h1>Licence<a class="headerlink" href="#licence" title="Link to this heading"></a></h1>
<p>Copyright 2019 Pascal Audet</p>
<p>Permission is hereby granted, free of charge, to any person obtaining a copy
of this software and associated documentation files (the “Software”), to deal
in the Software without restriction, including without limitation the rights
to use, copy, modify, merge, publish, distribute, sublicense, and/or sell
copies of the Software, and to permit persons to whom the Software is
furnished to do so, subject to the following conditions:</p>
<p>The above copyright notice and this permission notice shall be included in all
copies or substantial portions of the Software.</p>
<p>THE SOFTWARE IS PROVIDED “AS IS”, WITHOUT WARRANTY OF ANY KIND, EXPRESS OR
IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF MERCHANTABILITY,
FITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT. IN NO EVENT SHALL THE
AUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM, DAMAGES OR OTHER
LIABILITY, WHETHER IN AN ACTION OF CONTRACT, TORT OR OTHERWISE, ARISING FROM,
OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE USE OR OTHER DEALINGS IN THE
SOFTWARE.</p>
</section>
<section id="installation">
<h1>Installation<a class="headerlink" href="#installation" title="Link to this heading"></a></h1>
<section id="dependencies">
<h2>Dependencies<a class="headerlink" href="#dependencies" title="Link to this heading"></a></h2>
<ul class="simple">
<li><p><a class="reference external" href="https://github.com/schaefferaj/StDb">StDb</a></p></li>
<li><p><a class="reference external" href="https://github.com/obspy/obspy">ObsPy</a></p></li>
</ul>
</section>
<section id="conda-environment">
<h2>Conda environment<a class="headerlink" href="#conda-environment" title="Link to this heading"></a></h2>
<p>We recommend creating a custom <code class="docutils literal notranslate"><span class="pre">conda</span></code> environment
where <code class="docutils literal notranslate"><span class="pre">OBStools</span></code> can be installed along with its dependencies.</p>
<div class="highlight-bash notranslate"><div class="highlight"><pre><span></span>conda<span class="w"> </span>create<span class="w"> </span>-n<span class="w"> </span>obs<span class="w"> </span>-c<span class="w"> </span>conda-forge<span class="w"> </span><span class="nv">python</span><span class="o">=</span><span class="m">3</span>.12<span class="w"> </span>obspy
</pre></div>
</div>
<p>Activate the newly created environment:</p>
<div class="highlight-bash notranslate"><div class="highlight"><pre><span></span>conda<span class="w"> </span>activate<span class="w"> </span>obs
</pre></div>
</div>
<p>Install StDb:</p>
<div class="highlight-bash notranslate"><div class="highlight"><pre><span></span>pip<span class="w"> </span>install<span class="w"> </span>git+https://github.com/schaefferaj/stdb
</pre></div>
</div>
</section>
<section id="installing-development-branch-on-github">
<h2>Installing development branch on GitHub<a class="headerlink" href="#installing-development-branch-on-github" title="Link to this heading"></a></h2>
<div class="highlight-bash notranslate"><div class="highlight"><pre><span></span>pip<span class="w"> </span>install<span class="w"> </span>git+https://github.com/nfsi-canada/obstools
</pre></div>
</div>
</section>
<section id="installing-from-source">
<h2>Installing from source<a class="headerlink" href="#installing-from-source" title="Link to this heading"></a></h2>
<ul class="simple">
<li><p>Clone the repository:</p></li>
</ul>
<div class="highlight-bash notranslate"><div class="highlight"><pre><span></span>git<span class="w"> </span>clone<span class="w"> </span>https://github.com/paudetseis/OBStools.git
<span class="nb">cd</span><span class="w"> </span>OBStools
</pre></div>
</div>
<ul class="simple">
<li><p>Install using pip:</p></li>
</ul>
<div class="highlight-bash notranslate"><div class="highlight"><pre><span></span>pip<span class="w"> </span>install<span class="w"> </span>.
</pre></div>
</div>
</section>
</section>
<section id="using-local-data">
<h1>Using local data<a class="headerlink" href="#using-local-data" title="Link to this heading"></a></h1>
<p>The various scripts packaged with <code class="docutils literal notranslate"><span class="pre">OrientPy</span></code> use FDSN web services
through and <code class="docutils literal notranslate"><span class="pre">ObsPy</span></code> <cite>Client</cite> to load waveform data. For waveform
data locally stored on your hard drive, the scripts can use a <cite>Client</cite>
that reads a <a class="reference external" href="https://docs.obspy.org/packages/autogen/obspy.clients.filesystem.sds.html">SeisComP Data Structure</a>
archive containing SAC or miniSEED waveform data. Check out the scripts
<code class="docutils literal notranslate"><span class="pre">bng_calc</span></code> and <code class="docutils literal notranslate"><span class="pre">dl_calc</span></code> below and the argument <code class="docutils literal notranslate"><span class="pre">--SDS-path</span></code> and
<code class="docutils literal notranslate"><span class="pre">--dtype</span></code> for more details.</p>
<section id="station-metadata">
<h2>Station Metadata<a class="headerlink" href="#station-metadata" title="Link to this heading"></a></h2>
<p>If you have data stored locally on your drive, it is likely you also
have a station <a class="reference external" href="https://www.fdsn.org/xml/station/">XML</a> file
containing the metadata. The corresponding ObsPy documentation is
<a class="reference external" href="https://docs.obspy.org/packages/obspy.core.inventory.html">here</a>.</p>
<p>You can now use a stationXML (<cite>.xml</cite>) file instead of the StDb <cite>.pkl</cite> format.
Alternatively, you can convert the stationXML file to an StDb <cite>.pkl</cite> file
by running the command <code class="docutils literal notranslate"><span class="pre">gen_stdb</span> <span class="pre">station.xml</span></code> (these options are only
available on StDb version 0.2.7. If you don’t have a station <cite>XML</cite> file but you have
a dataless SEED file, you can convert it first to XML using <a class="reference external" href="https://seiscode.iris.washington.edu/projects/stationxml-converter">this
tools</a>.</p>
</section>
<section id="waveform-data">
<h2>Waveform Data<a class="headerlink" href="#waveform-data" title="Link to this heading"></a></h2>
<p>The SDS folder containing the waveform data has the structure:</p>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="n">archive</span>
  <span class="o">+</span> <span class="n">year</span>
    <span class="o">+</span> <span class="n">network</span> <span class="n">code</span>
      <span class="o">+</span> <span class="n">station</span> <span class="n">code</span>
        <span class="o">+</span> <span class="n">channel</span> <span class="n">code</span> <span class="o">+</span> <span class="nb">type</span>
          <span class="o">+</span> <span class="n">one</span> <span class="n">file</span> <span class="n">per</span> <span class="n">day</span> <span class="ow">and</span> <span class="n">location</span><span class="p">,</span> <span class="n">e</span><span class="o">.</span><span class="n">g</span><span class="o">.</span> <span class="n">NET</span><span class="o">.</span><span class="n">STA</span><span class="o">.</span><span class="n">LOC</span><span class="o">.</span><span class="n">CHAN</span><span class="o">.</span><span class="n">TYPE</span><span class="o">.</span><span class="n">YEAR</span><span class="o">.</span><span class="n">DOY</span>
</pre></div>
</div>
<p>For example:</p>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="n">SDS</span><span class="o">/</span>
  <span class="mi">2014</span><span class="o">/</span>
    <span class="n">YH</span><span class="o">/</span>
      <span class="n">LOBS3</span><span class="o">/</span>
        <span class="n">HH1</span><span class="o">.</span><span class="n">D</span><span class="o">/</span>
          <span class="n">YH</span><span class="o">.</span><span class="n">LOBS3</span><span class="o">..</span><span class="n">CH1</span><span class="o">.</span><span class="n">D</span><span class="mf">.2014.332</span>
          <span class="o">...</span>
</pre></div>
</div>
<p>Note, the filename does not include the extension (<cite>.MSEED</cite> or <cite>.SAC</cite>),
and the characters <cite>.D</cite> (for type Data) that appear in both the
channel code and the filename. Note also the two dots (<cite>..</cite>). If
there is a location code, it should appear between those dots (e.g.,
for a location code <cite>10</cite>, the corresponding filename should be
<cite>YH.LOBS3.10.HH1.D.2014.332</cite>). There is no location code for the
YH.LOBS3 data, and this field is simply absent from the filenames.
Finally, the day-of-year (DOY) field must be zero-padded to be exactly
3 characters.</p>
</section>
</section>


           </div>
          </div>
          <footer><div class="rst-footer-buttons" role="navigation" aria-label="Footer">
        <a href="links.html" class="btn btn-neutral float-left" title="GitHub Repositories" accesskey="p" rel="prev"><span class="fa fa-arrow-circle-left" aria-hidden="true"></span> Previous</a>
        <a href="atacr.html" class="btn btn-neutral float-right" title="ATaCR" accesskey="n" rel="next">Next <span class="fa fa-arrow-circle-right" aria-hidden="true"></span></a>
    </div>

  <hr/>

  <div role="contentinfo">
    <p>&#169; Copyright 2019, Pascal Audet, Helen Janiszewski.</p>
  </div>

  Built with <a href="https://www.sphinx-doc.org/">Sphinx</a> using a
    <a href="https://github.com/readthedocs/sphinx_rtd_theme">theme</a>
    provided by <a href="https://readthedocs.org">Read the Docs</a>.
   

</footer>
        </div>
      </div>
    </section>
  </div>
  <script>
      jQuery(function () {
          SphinxRtdTheme.Navigation.enable(true);
      });
  </script> 

</body>
</html>